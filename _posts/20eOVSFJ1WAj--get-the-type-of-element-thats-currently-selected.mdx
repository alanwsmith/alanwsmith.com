---
blurb: ''
categories:
  - Miscellaneous
date: '2021-09-30T22:18:12'
id: 20eOVSFJ1WAj
scrubbed_2021: false
status: unpublished
type: post
title: Get The Type Of Element That's Currently Selected
slug: 20eOVSFJ1WAj--get-the-type-of-element-thats-currently-selected
---

This is for connecting to an existing browser window that's started with dev tools on (TODO: put the command line in here for opening the browser or switch this to be for headless (which is probably the better play))

---

```javascript
const puppeteer = require('puppeteer')

async function runIt() {
  const wsChromeEndpointurl =
    'ws://127.0.0.1:9222/devtools/browser/058c17fa-7cee-4812-8715-19c8ec8a2648'
  const browser = await puppeteer.connect({
    browserWSEndpoint: wsChromeEndpointurl,
  })
  const page = (await browser.pages())[0]

  async function getInfo() {
    await page.keyboard.press('Tab')
    const el = await page.evaluateHandle(() => document.activeElement)
    console.log(el._remoteObject.description)
  }

  for (let i = 0; i < 42; i = i + 1) {
    getInfo()
    await page.waitForTimeout(890)
  }

  console.log('done')
}

runIt()
```


--- 

Original note:

TODO: Make this a full example: 


// NOPE, `type` seems to type stuff into the element....
const el = await page.evaluateHandle(() => document.activeElement);
await el.type('message');


via: https://stackoverflow.com/a/57524585

---
