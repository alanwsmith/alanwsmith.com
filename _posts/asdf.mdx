---
blurb: 'This is the MDX solution I arrived at after days of trial and error'
categories:
- MDX
- Next.js
- Netlify
date: '2021-11-22T09:41:04'
id: 21HJQiwMrQnY
status: draft
type: post
title: Building An MDX Powered Blog In Next.js With next-mdx-remote
---

### TL;DR:

I just moved my site to Next.js. I was using mdx-bundler for MDX functionality, but kept having problems with it. @mdx-js/loader looked like a good replacement, but wasn't. It shows frontmatter in the content instead of processing it. So, I ended up going with next-mdx-remote. 

Here's the final details of the process with more details below. There are two main pages (`pages/index.js` and `pages/posts/[slug].js`)

### Final Setup

Initial commands (using `alanwsmith.com` as the example)

```
mkdir alanwsmith.com
cd alanwsmith.com
npx create-next-app .
npm i @netlify/plugin-nextjs@4.0.0-beta.9
npm i next-mdx-remote
npm i gray-matter
mkdir _posts
rm -rf pages/api
```


TKTKTKT: pages/index.js


TKTKTKT: pages/posts/[slug].js


TKTKTKT: components/ExampleComponent.js


TKTKTK: _posts/*.mdx





### Notes

- I run my site no Netlify. Version 4 of their plugin is beta. Once it's out, you can just do `@netlify/plugin-nextjs`
- next-mdx-remote doesn't allow you to create components or data in the .mdx files themselves. That sucks, but I'll take the compromise compared to having to setup another process to deal with yaml frontmatter in @mdx-js/loader. (Though, frontmatter gets sorted out in @mdx-js/loader I'll switch since being able to write your components in the mdx files is really pretty fundamental)
- I find CSS gets in the way of my brain trying to learn things that aren't CSS so there's no styling here. 



